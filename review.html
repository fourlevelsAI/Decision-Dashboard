<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Decision Review – V.4.3.2</title>
  <meta name="description" content="Close the loop: record outcome + one learning for each decision in V.4.3.2." />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container">

    <header class="top">
      <div class="top-left">
        <h1>Decision Review</h1>
        <p class="sub">
          Close the loop. Capture reality. Extract one learning. If you don’t review, you don’t improve.
        </p>
      </div>

      <div class="top-actions">
        <a class="btn ghost" href="index.html">Home</a>
        <a class="btn ghost" href="dashboard.html">Dashboard</a>
        <a class="btn ghost" href="queue.html">Review Queue</a>
        <a class="btn ghost" href="overview.html">Overview</a>
        <button class="btn ghost icon-btn" id="themeToggle" aria-label="Toggle theme">◐</button>
        <span class="pill">V.4.3.2</span>
      </div>
    </header>

    <!-- DECISION CONTEXT -->
    <section class="card" id="decisionContext">
      <div class="card-head">
        <h2>Decision</h2>
        <div class="muted" style="font-size: 13px;">
          Read the original commitment first. Then write the review.
        </div>
      </div>

      <p class="muted" id="review-question">Loading decision…</p>

      <div class="decision-meta" id="review-meta"></div>

      <div class="callouts" style="margin-top:12px;">
        <div class="mini">
          <div class="mini-title">Rule</div>
          <div class="mini-body">
            Outcome first. No justification. No storytelling.
          </div>
        </div>
        <div class="mini">
          <div class="mini-title">Quality bar</div>
          <div class="mini-body">
            One clear learning you will apply on the next decision.
          </div>
        </div>
        <div class="mini">
          <div class="mini-title">People decisions</div>
          <div class="mini-body">
            If this was hiring/pay: note impact on performance, cost, and team health.
          </div>
        </div>
      </div>
    </section>

    <!-- REVIEW FORM -->
    <section class="card">
      <div class="card-head">
        <h2>Review</h2>
        <div class="muted" style="font-size: 13px;">
          This closes the loop. A “review” without a learning is just a diary entry.
        </div>
      </div>

      <div class="form-grid">
        <div class="full">
          <label for="outcome">Outcome</label>
          <select id="outcome">
            <option value="">Select outcome</option>
            <option>Better than expected</option>
            <option>As expected</option>
            <option>Worse than expected</option>
          </select>
          <div class="muted" style="margin-top:6px; font-size:12px;">
            Choose relative to what you expected at the time you committed.
          </div>
        </div>

        <div class="full">
          <label for="outcomeNotes">What actually happened?</label>
          <textarea
            id="outcomeNotes"
            placeholder="Facts only. What changed in the real world? Include measurable signals if you have them."
            rows="4"
          ></textarea>
          <div class="muted" style="margin-top:6px; font-size:12px;">
            Stored by the system.
          </div>
        </div>

        <div class="full">
          <label for="learning">What will you change next time?</label>
          <textarea
            id="learning"
            placeholder="One concrete adjustment (e.g., add a guardrail, add a checkpoint, change the threshold, validate with X)."
            rows="3"
          ></textarea>
          <div class="muted" style="margin-top:6px; font-size:12px;">
            Required. Stored by the system.
          </div>
        </div>

        <!-- Optional fields (not stored yet by app.js) -->
        <div class="full">
          <label for="reviewGuardrails">Guardrails update (optional note)</label>
          <textarea
            id="reviewGuardrails"
            placeholder="If you’d rewrite guardrails now, write the improved constraint set here (caps, gates, milestones, stop-loss)."
            rows="2"
          ></textarea>
          <div class="muted" style="margin-top:6px; font-size:12px;">
            Note only (not saved yet). We can wire this into storage in app.js next.
          </div>
        </div>

        <div class="full">
          <label for="followUpDate">Follow-up date (optional note)</label>
          <input id="followUpDate" type="date" />
          <div class="muted" style="margin-top:6px; font-size:12px;">
            Note only (not saved yet). Useful when the outcome is still unfolding.
          </div>
        </div>
      </div>

      <div class="actions">
        <button class="btn primary" id="submitReview">Close review</button>
      </div>
    </section>

    <footer class="foot">
      <p>
        Skipping reviews is how judgment degrades.
        The system only works if you close loops consistently.
      </p>
    </footer>

  </div>

  <script src="app.js"></script>
</body>
</html>
